---
network:
  hostname: "pi.loc"
  ip: "{{ ansible_default_ipv4.address }}"
  interface: "{{ ansible_default_ipv4.interface }}"
  subnet: "{{ (ansible_default_ipv4.network + '/' + ansible_default_ipv4.netmask) | ansible.utils.ipaddr('net') }}"
  prefix_length: "{{ (ansible_default_ipv4.network + '/' + ansible_default_ipv4.netmask) | ansible.utils.ipaddr('prefix') }}"
  gateway: "{{ ansible_default_ipv4.gateway }}"
  router: true
  domain: loc
  nameserver: 127.0.0.1

env:
  - "LANG=en_US.UTF-8"
  - "LC_ALL=en_US.UTF-8"
  - "EDITOR=vim"
  - "HISTSIZE=1000"
  - "HISTFILESIZE=1000"
  - "HISTCONTROL=ignoredups:erasedups"

dnscrypt_proxy:
  version: 2.1.5
  listen_addresses: ["127.0.0.1:53", "192.168.1.100:53"]
  cache: true
  cache_size: 4096
  servernames: ["cloudflare-security"]
  blocklists:
    - https://big.oisd.nl/
  cloaking_rules:
    - "pi.{{ network.domain }} {{ network.ip }}"
    - "navidrome.{{ network.domain }} {{ network.ip }}"
  block_patterns:
    - "*.lan"
    - "*.local"
    - "*.localdomain"
    - "*.workgroup"

samba:
  share_name: SOME_NAME
  share_path: /mnt/data

minidlna:
  port: 8200
  interface: eth0
  friendly_name: SOME_NAME
  media_dirs:
    - { type: V, path: /mnt/data/Movies/Film }
    - { type: V, path: /mnt/data/Movies/Series }
    - { type: V, path: /mnt/data/Movies/Documentary }
    - { type: V, path: /mnt/data/Tutorials }
    - { type: A, path: /mnt/data/AudioBooks }

navidrome:
  version: 0.50.1
  working_directory: /var/lib/navidrome
  bin_directory: /opt/navidrome
  music_directory: /mnt/data/Music
  external_services: false
  theme: Nord

yt_dlp_version: 2023.03.04

mount:
  points:
    - { path: /mnt/data, owner: nobody, group: nogroup, mode: "0755" }

nginx_reject_ips: ["192.168.1.106"]
nginx_static_sites:
  - { "server_name": "example.{{ network.domain }}" }
  - { "server_name": "foobar.{{ network.domain }}", "allowed_origins": ["youtube.com", "soundcloud.com"] }
